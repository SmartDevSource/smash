self.addEventListener('install', (event)=>{
    event.waitUntil(
        caches.open('sw-cache').then((cache)=>{ 
            return cache.addAll([
                './index.html',
                './style.css',
                './assets/audio/musics/asteroid.mp3',
                './assets/audio/musics/corneria.mp3',
                './assets/audio/musics/title_ost.mp3',
                './assets/audio/sounds/1.mp3',
                './assets/audio/sounds/2.mp3',
                './assets/audio/sounds/3.mp3',
                './assets/audio/sounds/beam.mp3',
                './assets/audio/sounds/big_beam.mp3',
                './assets/audio/sounds/bonus.mp3',
                './assets/audio/sounds/burn.mp3',
                './assets/audio/sounds/collision.mp3',
                './assets/audio/sounds/defeat.mp3',
                './assets/audio/sounds/electrify.mp3',
                './assets/audio/sounds/engine_speedup.mp3',
                './assets/audio/sounds/engine.mp3',
                './assets/audio/sounds/explosion.mp3',
                './assets/audio/sounds/go.mp3',
                './assets/audio/sounds/hit.mp3',
                './assets/audio/sounds/low_life.mp3',
                './assets/audio/sounds/me_captured.mp3',
                './assets/audio/sounds/me_point.mp3',
                './assets/audio/sounds/opponent_captured.mp3',
                './assets/audio/sounds/opponent_point.mp3',
                './assets/audio/sounds/select.mp3',
                './assets/audio/sounds/ship_explosion.mp3',
                './assets/audio/sounds/victory.mp3',
                './assets/fonts/operator.ttf',
                './assets/gfx/hud/crosshair.png',
                './assets/gfx/hud/hud_calibrate.png',
                './assets/gfx/hud/hud_damage.png',
                './assets/gfx/hud/hud_health.png',
                './assets/gfx/hud/hud_rocket.png',
                './assets/gfx/hud/hud_shoot.png',
                './assets/gfx/hud/ray_enhanced.png',
                './assets/gfx/maps/isle.png',
                './assets/gfx/maps/sand.png',
                './assets/gfx/maps/sky_isle.png',
                './assets/gfx/maps/sky_sand.png',
                './assets/gfx/menu/retrowar_logo.png',
                './assets/gfx/menu/ship_background.png',
                './assets/gfx/menu/stars_background.png',
                './assets/gfx/sprites/blue_flag.png',
                './assets/gfx/sprites/blue_taken.png',
                './assets/gfx/sprites/bonus_damage.png',
                './assets/gfx/sprites/bonus_health.png',
                './assets/gfx/sprites/bonus_speedup.png',
                './assets/gfx/sprites/electric.png',
                './assets/gfx/sprites/explosion_1.png',
                './assets/gfx/sprites/fire.png',
                './assets/gfx/sprites/floating_isle_1.png',
                './assets/gfx/sprites/floating_sand.png',
                './assets/gfx/sprites/goal_arrow.png',
                './assets/gfx/sprites/life.png',
                './assets/gfx/sprites/ray_enhanced.png',
                './assets/gfx/sprites/ray.png',
                './assets/gfx/sprites/red_flag.png',
                './assets/gfx/sprites/red_taken.png',
                './assets/gfx/sprites/ship.png',
                './assets/gfx/sprites/zeppelin.png',
            ]) 
        })
    )
})

self.addEventListener('fetch', (event)=>{
    event.respondWith(
        caches.match(event.request).then((response)=>{
            return response || fetch(event.request)
        })
    )
})